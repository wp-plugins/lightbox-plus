(function(d,v,G){function i(b,c,e){b=v.createElement(b);if(c)b.id=j+c;if(e)b.style.cssText=e;return d(b)}function $(){return G.innerHeight?G.innerHeight:d(G).height()}function S(b,c){if(c!==Object(c))c={};this.cache={};this.el=b;this.value=function(e){var f;if(this.cache[e]===undefined){f=d(this.el).attr("data-cbox-"+e);if(f!==undefined)this.cache[e]=f;else if(c[e]!==undefined)this.cache[e]=c[e];else if(aa[e]!==undefined)this.cache[e]=aa[e]}return this.cache[e]};this.get=function(e){e=this.value(e);
return d.isFunction(e)?e.call(this.el,this):e}}function T(b){var c=o.length;b=(t+b)%c;return b<0?c+b:b}function r(b,c){return Math.round((/%/.test(b)?(c==="x"?B.width():$())/100:1)*parseInt(b,10))}function ma(b,c){return b.get("retinaUrl")&&G.devicePixelRatio>1?c.replace(b.get("photoRegex"),b.get("retinaSuffix")):c}function na(b){if("contains"in g[0]&&!g[0].contains(b.target)&&b.target!==C[0]){b.stopPropagation();g.focus()}}function L(b){if(L.str!==b){g.add(C).removeClass(L.str).addClass(b);L.str=
b}}function sa(b){t=0;if(b&&b!==false&&b!=="nofollow"){o=d("."+J).filter(function(){var c=d.data(this,w);return(new S(this,c)).get("rel")===b});t=o.index(a.el);if(t===-1){o=o.add(a.el);t=o.length-1}}else o=d(a.el)}function H(b){d(v).trigger(b);y.triggerHandler(b)}function U(b){var c;if(!M){c=d(b).data(w);a=new S(b,c);sa(a.get("rel"));if(!D){D=N=true;L(a.get("className"));g.css({visibility:"hidden",display:"block",opacity:""});p=i(k,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden");
x.css({width:"",height:""}).append(p);z=ba.height()+ca.height()+x.outerHeight(true)-x.height();A=da.width()+ea.width()+x.outerWidth(true)-x.width();E=p.outerHeight(true);F=p.outerWidth(true);b=r(a.get("initialWidth"),"x");c=r(a.get("initialHeight"),"y");var e=a.get("maxWidth"),f=a.get("maxHeight");a.w=(e!==false?Math.min(b,r(e,"x")):b)-F-A;a.h=(f!==false?Math.min(c,r(f,"y")):c)-E-z;p.css({width:"",height:a.h});l.position();H(ta);a.get("onOpen");fa.add(ga).hide();g.focus();if(a.get("trapFocus"))if(v.addEventListener){v.addEventListener("focus",
na,true);y.one(ha,function(){v.removeEventListener("focus",na,true)})}a.get("returnFocus")&&y.one(ha,function(){d(a.el).focus()})}b=parseFloat(a.get("opacity"));C.css({opacity:b===b?b:"",cursor:a.get("overlayClose")?"pointer":"",visibility:"visible"}).show();a.get("closeButton")?V.html(a.get("close")).appendTo(x):V.appendTo("<div/>");ua()}}function oa(){if(!g){ia=false;B=d(G);g=i(k).attr({id:w,"class":d.support.opacity===false?j+"IE":"",role:"dialog",tabindex:"-1"}).hide();C=i(k,"Overlay").hide();
W=d([i(k,"LoadingOverlay")[0],i(k,"LoadingGraphic")[0]]);I=i(k,"Wrapper");x=i(k,"Content").append(ga=i(k,"Title"),ja=i(k,"Current"),O=d('<button type="button"/>').attr({id:j+"Previous"}),P=d('<button type="button"/>').attr({id:j+"Next"}),K=i("button","Slideshow"),W);V=d('<button type="button"/>').attr({id:j+"Close"});I.append(i(k).append(i(k,"TopLeft"),ba=i(k,"TopCenter"),i(k,"TopRight")),i(k,false,"clear:left").append(da=i(k,"MiddleLeft"),x,ea=i(k,"MiddleRight")),i(k,false,"clear:left").append(i(k,
"BottomLeft"),ca=i(k,"BottomCenter"),i(k,"BottomRight"))).find("div div").css({"float":"left"});Q=i(k,false,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;");fa=P.add(O).add(ja).add(K)}v.body&&!g.parent().length&&d(v.body).append(C,g.append(I,Q))}function va(){function b(c){if(!(c.which>1||c.shiftKey||c.altKey||c.metaKey||c.ctrlKey)){c.preventDefault();U(this)}}if(g){if(!ia){ia=true;P.click(function(){l.next()});O.click(function(){l.prev()});V.click(function(){l.close()});
C.click(function(){a.get("overlayClose")&&l.close()});d(v).bind("keydown."+j,function(c){var e=c.keyCode;if(D&&a.get("escKey")&&e===27){c.preventDefault();l.close()}if(D&&a.get("arrowKey")&&o[1]&&!c.altKey)if(e===37){c.preventDefault();O.click()}else if(e===39){c.preventDefault();P.click()}});d.isFunction(d.fn.on)?d(v).on("click."+j,"."+J,b):d("."+J).live("click."+j,b)}return true}return false}function ua(){var b,c,e=l.prep,f,u=++ka;N=true;h=false;H(X);H(Y);a.get("onLoad");a.h=a.get("height")?r(a.get("height"),
"y")-E-z:a.get("innerHeight")&&r(a.get("innerHeight"),"y");a.w=a.get("width")?r(a.get("width"),"x")-F-A:a.get("innerWidth")&&r(a.get("innerWidth"),"x");a.mw=a.w;a.mh=a.h;if(a.get("maxWidth")){a.mw=r(a.get("maxWidth"),"x")-F-A;a.mw=a.w&&a.w<a.mw?a.w:a.mw}if(a.get("maxHeight")){a.mh=r(a.get("maxHeight"),"y")-E-z;a.mh=a.h&&a.h<a.mh?a.h:a.mh}b=a.get("href");pa=setTimeout(function(){W.show()},100);if(a.get("inline")){var m=d(b);f=d("<div>").hide().insertBefore(m);y.one(X,function(){f.replaceWith(m)});
e(m)}else if(a.get("iframe"))e(" ");else if(a.get("html"))e(a.get("html"));else if(a.get("photo")||a.get("photoRegex").test(b)){b=ma(a,b);h=new Image;d(h).addClass(j+"Photo").bind("error",function(){e(i(k,"Error").html(a.get("imgError")))}).one("load",function(){u===ka&&setTimeout(function(){var n;d.each(["alt","longdesc","aria-describedby"],function(q,s){var R=d(a.el).attr(s)||d(a.el).attr("data-"+s);R&&h.setAttribute(s,R)});if(a.get("retinaImage")&&G.devicePixelRatio>1){h.height/=G.devicePixelRatio;
h.width/=G.devicePixelRatio}if(a.get("scalePhotos")){c=function(){h.height-=h.height*n;h.width-=h.width*n};if(a.mw&&h.width>a.mw){n=(h.width-a.mw)/h.width;c()}if(a.mh&&h.height>a.mh){n=(h.height-a.mh)/h.height;c()}}if(a.h)h.style.marginTop=Math.max(a.mh-h.height,0)/2+"px";if(o[1]&&(a.get("loop")||o[t+1])){h.style.cursor="pointer";h.onclick=function(){l.next()}}h.style.width=h.width+"px";h.style.height=h.height+"px";e(h)},1)});h.src=b}else b&&Q.load(b,a.get("data"),function(n,q){if(u===ka)e(q==="error"?
i(k,"Error").html(a.get("xhrError")):d(this).contents())})}var aa={html:false,photo:false,iframe:false,inline:false,transition:"elastic",speed:300,fadeOut:300,width:false,initialWidth:"600",innerWidth:false,maxWidth:false,height:false,initialHeight:"450",innerHeight:false,maxHeight:false,scalePhotos:true,scrolling:true,opacity:0.9,preloading:true,className:false,overlayClose:true,escKey:true,arrowKey:true,top:false,bottom:false,left:false,right:false,fixed:false,data:undefined,closeButton:true,fastIframe:true,
open:false,reposition:true,loop:true,slideshow:false,slideshowAuto:true,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:false,retinaUrl:false,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:true,trapFocus:true,onOpen:false,onLoad:false,
onComplete:false,onCleanup:false,onClosed:false,rel:function(){return this.rel},href:function(){return d(this).attr("href")},title:function(){return this.title}},w="colorbox",j="cbox",J=j+"Element",ta=j+"_open",Y=j+"_load",Z=j+"_complete",la=j+"_cleanup",ha=j+"_closed",X=j+"_purge",C,g,I,x,ba,da,ea,ca,o,B,p,Q,W,ga,ja,K,P,O,V,fa,y=d("<a/>"),a,z,A,E,F,t,h,D,N,M,pa,l,k="div",ka=0,qa={},ia,wa=function(){function b(){clearTimeout(s)}function c(){if(a.get("loop")||o[t+1]){b();s=setTimeout(l.next,a.get("slideshowSpeed"))}}
function e(){K.html(a.get("slideshowStop")).unbind(q).one(q,f);y.bind(Z,c).bind(Y,b);g.removeClass(n+"off").addClass(n+"on")}function f(){b();y.unbind(Z,c).unbind(Y,b);K.html(a.get("slideshowStart")).unbind(q).one(q,function(){l.next();e()});g.removeClass(n+"on").addClass(n+"off")}function u(){m=false;K.hide();b();y.unbind(Z,c).unbind(Y,b);g.removeClass(n+"off "+n+"on")}var m,n=j+"Slideshow_",q="click."+j,s;return function(){if(m){if(!a.get("slideshow")){y.unbind(la,u);u()}}else if(a.get("slideshow")&&
o[1]){m=true;y.one(la,u);a.get("slideshowAuto")?e():f();K.show()}}}();if(!d[w]){d(oa);l=d.fn[w]=d[w]=function(b,c){var e,f=this;b=b||{};if(d.isFunction(f)){f=d("<a/>");b.open=true}else if(!f[0])return f;if(!f[0])return f;oa();if(va()){if(c)b.onComplete=c;f.each(function(){var u=d.data(this,w)||{};d.data(this,w,d.extend(u,b))}).addClass(J);e=new S(f[0],b);e.get("open")&&U(f[0])}return f};l.position=function(b,c){function e(){ba[0].style.width=ca[0].style.width=x[0].style.width=parseInt(g[0].style.width,
10)-A+"px";x[0].style.height=da[0].style.height=ea[0].style.height=parseInt(g[0].style.height,10)-z+"px"}var f,u=0,m=0,n=g.offset(),q,s;B.unbind("resize."+j);g.css({top:-9E4,left:-9E4});q=B.scrollTop();s=B.scrollLeft();if(a.get("fixed")){n.top-=q;n.left-=s;g.css({position:"fixed"})}else{u=q;m=s;g.css({position:"absolute"})}m+=a.get("right")!==false?Math.max(B.width()-a.w-F-A-r(a.get("right"),"x"),0):a.get("left")!==false?r(a.get("left"),"x"):Math.round(Math.max(B.width()-a.w-F-A,0)/2);u+=a.get("bottom")!==
false?Math.max($()-a.h-E-z-r(a.get("bottom"),"y"),0):a.get("top")!==false?r(a.get("top"),"y"):Math.round(Math.max($()-a.h-E-z,0)/2);g.css({top:n.top,left:n.left,visibility:"visible"});I[0].style.width=I[0].style.height="9999px";f={width:a.w+F+A,height:a.h+E+z,top:u,left:m};if(b){var R=0;d.each(f,function(ra){if(f[ra]!==qa[ra])R=b});b=R}qa=f;b||g.css(f);g.dequeue().animate(f,{duration:b||0,complete:function(){e();N=false;I[0].style.width=a.w+F+A+"px";I[0].style.height=a.h+E+z+"px";a.get("reposition")&&
setTimeout(function(){B.bind("resize."+j,l.position)},1);d.isFunction(c)&&c()},step:e})};l.resize=function(b){var c;if(D){b=b||{};if(b.width)a.w=r(b.width,"x")-F-A;if(b.innerWidth)a.w=r(b.innerWidth,"x");p.css({width:a.w});if(b.height)a.h=r(b.height,"y")-E-z;if(b.innerHeight)a.h=r(b.innerHeight,"y");if(!b.innerHeight&&!b.height){c=p.scrollTop();p.css({height:"auto"});a.h=p.height()}p.css({height:a.h});c&&p.scrollTop(c);l.position(a.get("transition")==="none"?0:a.get("speed"))}};l.prep=function(b){if(D){var c,
e=a.get("transition")==="none"?0:a.get("speed");p.remove();p=i(k,"LoadedContent").append(b);p.hide().appendTo(Q.show()).css({width:function(){a.w=a.w||p.width();a.w=a.mw&&a.mw<a.w?a.mw:a.w;return a.w}(),overflow:a.get("scrolling")?"auto":"hidden"}).css({height:function(){a.h=a.h||p.height();a.h=a.mh&&a.mh<a.h?a.mh:a.h;return a.h}()}).prependTo(x);Q.hide();d(h).css({"float":"none"});L(a.get("className"));c=function(){function f(){d.support.opacity===false&&g[0].style.removeAttribute("filter")}var u=
o.length,m,n;if(D){n=function(){clearTimeout(pa);W.hide();H(Z);a.get("onComplete")};ga.html(a.get("title")).show();p.show();if(u>1){typeof a.get("current")==="string"&&ja.html(a.get("current").replace("{current}",t+1).replace("{total}",u)).show();P[a.get("loop")||t<u-1?"show":"hide"]().html(a.get("next"));O[a.get("loop")||t?"show":"hide"]().html(a.get("previous"));wa();a.get("preloading")&&d.each([T(-1),T(1)],function(){var q,s=o[this];q=new S(s,d.data(s,w));if((s=q.get("href"))&&(q.get("photo")||
q.get("photoRegex").test(s))){s=ma(q,s);q=v.createElement("img");q.src=s}})}else fa.hide();if(a.get("iframe")){m=v.createElement("iframe");if("frameBorder"in m)m.frameBorder=0;if("allowTransparency"in m)m.allowTransparency="true";if(!a.get("scrolling"))m.scrolling="no";d(m).attr({src:a.get("href"),name:(new Date).getTime(),"class":j+"Iframe",allowFullScreen:true}).one("load",n).appendTo(p);y.one(X,function(){m.src="//about:blank"});a.get("fastIframe")&&d(m).trigger("load")}else n();a.get("transition")===
"fade"?g.fadeTo(e,1,f):f()}};a.get("transition")==="fade"?g.fadeTo(e,0,function(){l.position(0,c)}):l.position(e,c)}};l.next=function(){if(!N&&o[1]&&(a.get("loop")||o[t+1])){t=T(1);U(o[t])}};l.prev=function(){if(!N&&o[1]&&(a.get("loop")||t)){t=T(-1);U(o[t])}};l.close=function(){if(D&&!M){M=true;D=false;H(la);a.get("onCleanup");B.unbind("."+j);C.fadeTo(a.get("fadeOut")||0,0);g.stop().fadeTo(a.get("fadeOut")||0,0,function(){g.hide();C.hide();H(X);p.remove();setTimeout(function(){M=false;H(ha);a.get("onClosed")},
1)})}};l.remove=function(){if(g){g.stop();d[w].close();g.stop(false,true).remove();C.remove();M=false;g=null;d("."+J).removeData(w).removeClass(J);d(v).unbind("click."+j).unbind("keydown."+j)}};l.element=function(){return d(a.el)};l.settings=aa}})(jQuery,document,window);
